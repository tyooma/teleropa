# teleropa
Вопросы-Ответы по Teleropa



1	Изменить отображение разделов (табов) на детальной странице продукт-пейджа" На странице продукт-пейджа разместить табы, ссылающиеся на соответствующие разделы продукта, в заголовке страницы. По нажатию на таб пользователя перенаправляют на соответствующий раздел страницы с описанием:
      
2	Нужно добавить фильтры на все листинги товаров: Для всех листингов с перечнем товаров добавить фильтры

3	I plant a tree: Реализовать поощрительную систему за покупки

4	Исправить отображение цен для продукт-листингов:
- Убрать тень на ценах
- Размеры и цвета цен по всему приложению должны быть одинаковыми
- Зачеркнутая цена должна быть красная, обычная цена - черная	

<!-- 5	Реализовать возможность уведомления о новых продуктах
- Реализовать форму отображения категорий для подписки (запрос к серверной АПИ)
- Реализовать возможность отправки полученных данных (POST-запрос на серверную АПИ)
- Добавить соответствующий пункт в Профиле пользователя приложения	 -->

6	Реализовать форму со следующими Настройками:
- Отображение информации о версии приложения
- Возможность переключения "приват"/"фирма" (вывод цены с ндс или без ндс). Текущую переключалку из меню убрать.
- Добавить в главное меню раздел отвечающий за Настройки	

7	Для продукт-пейджа в секции «Bewertungen» исправить ошибку в написании термина:
- Заменить написание "Bewertung schreibung" на "Bewertung schreiben"

8	Для Корзины внести следующие исправления:
- Для позиции товара убрать фразу "\St" после цены	

<!-- 9	Реализовать возможность работы с блогом
- Реализовать форму отображающую список блог-постов через WebView
- Реализовать форму отображающую детальную информацию по блог-посту
- Добавить в главное меню раздел отвечающий за блог-посты	 -->

10	Реализовать для некоторых товаров выбор варианта для покупки
Для детальной страницы продукт-пейджа добавить возможность делать выбор варианта покупки товара (например, выбрать цвет, комплектацию и пр.)	

Комментарии и уточняющие вопросы:
Задача в принципе ясна, есть момент: 1)в апках getPreviewProductData и getFullProductData для товара 66602 (на сайте он имеет выбор цвета) мы не нашли признака, по которому мы будем определять что товар имеет варианты (цвет, комплектация, пр.) и строить логику приложения. Если мы ошиблись с ИД товара, то пришлите ИД по которому мы точно сможем получить признак в возвращаемом JSON документе 2) если этих признаком на данный момент не существует, то как скоро будут готовы эти апки с этим признаком, чтобы нам более точно оценить задачу
Работа с нашей стороны будет сделана сразу же, как мы все начнем работу над этими задачами.
Добавить в апки («getProductsByCategoryID», «getProductsBy») предоставляющие листинги продуктов признак, что товар имеет варианты покупки: параметр is_variable, значения: 1 – у продукта есть варианты, 0 - нету.
В апках («getPreviewProductData», «getPreviewProductData») предоставляющей подробную информацию по товару добавить информацию о вариантах:
'configurations' – массив всех возможных атрибутов (для данного продукта) и их значения;
'productOptions' — атрибуты конкретного варианта
'varaints' — содержит идентификаторы других вариантов этого продукта и их атрибуты.
productID = 59611 Возвращает:
"configurations": {
  "1": {"name":"Farbe", "values":{"9":"blau","51":"cocoa","8":"schwarz","4":"weiß"}},
  "3": {"name":"Größe", "values":{"44":"L","43":"M","42":"S"}}
},
"productOptions": {"1":"weiß","3":"S"},
"varaints": {
  "59611": {"1":"weiß","3":"S"}, "59612": {"1":"schwarz","3":"S"}, "59613": {"1":"blau","3":"S"}, "59614": {"1":"cocoa","3":"S"},
  "59615": {"1":"weiß","3":"M"}, "59616": {"1":"schwarz","3":"M"}, "59617": {"1":"blau","3":"M"}, "59618": {"1":"cocoa","3":"M"},
  "59619": {"1":"weiß","3":"L"}, "59620": {"1":"schwarz","3":"L"}, "59621": {"1":"blau","3":"L"}, "59622": {"1":"cocoa","3":"L"}
}
После выбора варианта делается повторный запрос на получение новых сведений о товаре, потому что для системы это новый товар. Например, для товара c productID=59611 при выборе Farbe=weiß и Größe=M - мы получим новый товар c productID=59615.
Поле configurations динамически изменяемое, содержит все варианты для данного продукта. В примере указывается 2 варианта (цвет и размер), но может быть и больше атрибутов для вариантов.

№	Задача	Оценка:
11	Для процесса совершения покупки реализовать шаги прогресса:
- Разработать форму на которой расположить выбор для «Авторизации» или для «Регистрации нового пользователя»
- Имплементировать шаги прогресса: зеленым отмечается уже пройденный этап, черным – текущий, серым – еще не пройденный этап
 	24
4 д
Комментарии и уточняющие вопросы:
Предлагаем выводить «шаги» всегда, только для смартфона будем выводить всегда 3: 1й предыдущий шаг (зеленый), 2й текущий шаг (черный), 3й следующий (красный), а для планшета все и подсвечивать согласно прогрессу цепочки покупки. Ответ: Ок, поддерживаю
Алгоритм действий:
1) При попытке купить товар, если пользователь не авторизован, его перенаправит на форму описанную выше
3) После успешной авторизации/регистрации его направят в Корзину, где будет лежать его товар/товары
4) Клиент нажмет на кнопку «Купить» и дальше запуститься обычная цепочка действий при покупке

№	Задача	Оценка:
12	Реализовать алгоритм быстрой покупки
Для всех листингов товаров (кроме покупок за TeleropaPoints) добавить возможность для клиентов приложения совершать быстрые покупки посредством кнопки «Sofort kaufen»	16
6 д
Комментарии и уточняющие вопросы:
Функционал частично зависит от задачи №10. Алгоритм работы быстрой покупки следующий:
1) Для товаров продукт-листинга, которые не имеют вариантов для покупки, должно быть 2 кнопки:
- «Добавит в корзину»: только добавляет товар в Корзину
- «Купить сейчас»: добавляет товар в Корзину и сразу же происходит переход на выбор доставки, минуя Корзину и управление покупкой путем добавления «Скидочного купона» и количества покупаемого товара; после выбора доставки дальше происходит стандартная цепочка действий для покупки.
2) Для товаров продукт-листинга, которые имеют варианты для покупки, будет только одна кнопка – «Details ansehen», которая всегда ведет на детальную страницу с товаром, где клиент конкретизирует покупку своим вариантом. На детальной странице товара всегда одна кнопка - «Добавить в корзину», после чего товар с конкретным вариантом (или без него, если вариантов нет) попадает в корзину и для покупки которого клиенту надо перейти в Корзину и выполнить дальнейшие шаги.
Если этот функционал не будет реализовываться, то алгоритм покупок будет следующим:
1) товары без вариантов будут только с кнопкой «Добавить в корзину»
2) товары с вариантами вместо кнопки «Добавить в корзину» будут с кнопкой «Details ansehen», которая отправит на детальную страницу товара

№	Задача	Оценка:
13	Реализовать регистрацию нового пользователя
Для всех листингов товаров (кроме покупок за TeleropaPoints) добавить возможность для клиентов приложения совершать быстрые покупки посредством кнопки «Sofort kaufen»	24
Комментарии и уточняющие вопросы:
Так же есть пару предложений связанные с этой задачей:
1) форму с профилем отображать только когда пользователь авторизован, а если не авторизован то только кнопки для авторизации либо для регистрации
на примере выше так и показано. То есть в магазине можно либо залогиниться, либо создать новую учетную запись.
2) очищать содержимое корзины при выходе из приложения для неавторизованных пользователей
да, имеет смысл
---
Серверное АПИ: /WebiProgCommunicationApplicationUser/register
пример есть тут https://teleropa.de/custom/plugins/WebiProgCommunicationApplication/testactions.html
Параметры
{
  customerType: “”,         значения private / business
  Salutation: “”,           значения  Herr / Frau
  Firstname: “”,
  lastname: “”,
  email: “”,
  password: “”,             (минимум 8 символов)
  phone: “”,                (необязятельное поле)
  birthday: “”,             пример 1991-5-27,  необязятельное поле
  billingStreet: “”,
  billingZipcode: “”,
  billingCity: “”,
  billingCountry: 2,        id, например 2, то что возвращает /WebiProgCommunicationApplicationUser/getCountries
  billingCompany: “”,       (необязятельное поле)
  billingDepartment: “”,    (необязятельное поле)
  billingVatId: “”,         (необязятельное поле)
  photo: “”                 (необязятельное поле)
}
Вопрос: Нужен контрольный пример такого JSON-запроса, особенно уточнения по полям:
password – какие символы можно вводить? предварительно нужно ли кодировать (каким алгоритмом?) или передавать в открытом виде?
billingZipcode – какие ограничения предъявляются к этому полю? Ввод значения для этого поля свободный, или должен выбираться из предоставленного массива таких кодов?
billingCity – значения для этого поля вводятся как есть (как строка) или должны выбираться из предоставленного массива городов?
billingVatId – что это за поле? Какого оно типа? Ввод значения для этого поля свободный, или должен выбираться из предоставленного массива?
Photo – в каком формате передавать бинарную последовательность изображения? Нужно ли ее предварительно кодировать?
Комментарий:
Алгоритм работы следующий:
1) Новый пользователь вводит свои данные на указанной форме
2) Полученные сведения приложение отправляет на серверную апку, которая в случае успеха возвращает ID зарегистрированного пользователя. В случае неудачи сообщение об ошибке с подробностями
3) После получения успешной реакции на регистрацию приложение автоматически авторизует пользователя и направляет на страницу с подпиской на новинки от магазина, где пользователь сможет выбрать категории, на которые хочет получать новостную рассылку
3.1) Если функционал с подпиской на новинки не будет реализован, то после автоматической авторизации пользователя перенаправит на главную страницу приложения
4) Со страницы с подпиской на новинки пользователь может нажать на кнопку ведущую на главную страницу приложения, если захочет пропустить этап подписки на новостную рассылку
Подробнее об алгоритме работы новостной подписки см. в соответствующем разделе.

